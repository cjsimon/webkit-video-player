<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Video</title>
	
	<link rel="stylesheet" href="http://vjs.zencdn.net/4.9.1/video-js.css">
	<link rel="stylesheet" href="css/progressTips.min.css">
	<link rel="stylesheet" href="css/player.css">

	<script src="js/jquery.min.js"></script>	
	<script src="http://vjs.zencdn.net/4.9.1/video.js"></script>
	<script src="js/hotkeys.min.js"></script>
	<script src="js/progressTips.min.js"></script>
</head>

<body>
	<script type="text/javascript">
		var nw = require('nw.gui');
		var os = require('os');
		var fs = require('fs');
		
		var win = nw.Window.get();
		
		var content = '';
		content += '[Platform]' + os.EOL;
		// linux, darwin, win32, freebsd, sunos
		content += 'OS Tpye' + os.platform() + os.EOL;
		content += 'OS Version: ' + os.release() + os.EOL;
		content += 'OS Architecture: ' + os.arch() + os.EOL;
		content += os.EOL;
		
		// Memory info
		content += '[Memory]' + os.EOL;
		content += 'Total (Bytes) ' + os.totalmem() + os.EOL;
		content += 'Tree (Bytes) ' + os.freemem() + os.EOL;
		content += 'Free (%) ' + (os.freemem() / os.totalmem() * 100).toFixed(2) + os.EOL;
		content += os.EOL;
		
		// CPUs
		content += '[CPUs]' + os.EOL;
		content += 'No. of cores: ' + os.cpus().length + os.EOL;
		content += 'CPU Type' + os.cpus()[0].model + os.EOL;
		content += 'CPU Type' + os.cpus()[0].model + os.EOL;
		
		console.write(content);
		fs.writeFile('sysinfo.txt', content, function(err){
			if(err) {
				alert('Error writting file');
			} else {
				console.write('Successfully wrote file');
			}
		});
	</script>
	
	
	<div id="video-container">
		<video id="video"
			class="video-js vjs-default-skin vjs-big-play-centered"
			preload="auto"
			controls
			autoplay 
			data-setup='{"nativeControlsForTouch": false}'>
			
			<source src="test.mp4" type='video/mp4'>
		</video>
	</div>
	
	<script src="js/player.js"></script>
</body>
</html>
